if (self.CavalryLogger) { CavalryLogger.start_js(["PNUz0"]); }

__d("Alignment",["invariant","DOMVector","Style","containsNode"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(k,l,m){"use strict";this.$Anchor1=l;this.$Anchor2=m;this.$Anchor3=k}i.prototype.getElement=function(){"use strict";return this.$Anchor3};i.prototype.getX=function(){"use strict";return this.$Anchor1};i.prototype.getY=function(){"use strict";return this.$Anchor2};i.prototype.isCorner=function(){"use strict";return(this.$Anchor1===i.LEFT||this.$Anchor1===i.RIGHT)&&(this.$Anchor2===i.TOP||this.$Anchor2===i.BOTTOM)};i.prototype.getPosition=function(k){"use strict";return c("DOMVector").getElementPosition(this.$Anchor3,k).add(this.getX()*this.$Anchor3.offsetWidth,this.getY()*this.$Anchor3.offsetHeight)};Object.assign(i,{LEFT:0,CENTER:.5,RIGHT:1,TOP:0,MIDDLE:.5,BOTTOM:1});function j(k,l,m){"use strict";this.$Alignment1=k;this.$Alignment2=l;this.$Alignment3=m;c("containsNode")(k.getElement(),l.getElement())||h(0);k.isCorner()||h(0)}j.prototype.align=function(){"use strict";j.$Alignment4(this.$Alignment1,function(){return j.measure(this.$Alignment2,this.$Alignment3)}.bind(this))};j.$Alignment4=function(k,l){"use strict";__p&&__p();var m=k.getElement();c("Style").apply(m,{left:k.getX()===i.LEFT?"0":"",right:k.getX()===i.RIGHT?"0":"",top:k.getY()===i.TOP?"0":"",bottom:k.getY()===i.BOTTOM?"0":""});var n=l();if(k.getX()===i.LEFT)c("Style").set(m,"left",n.x+"px");else if(k.getX()===i.RIGHT)c("Style").set(m,"right",-n.x+"px");if(k.getY()===i.TOP)c("Style").set(m,"top",n.y+"px");else if(k.getY()===i.BOTTOM)c("Style").set(m,"bottom",-n.y+"px")};j.position=function(k,l){"use strict";j.$Alignment4(k,function(){var m=c("DOMVector").getElementPosition(k.getElement());return l.convertTo("document").sub(m)})};j.measure=function(k,l){"use strict";var m=k.getPosition("document"),n=l.getPosition("document");return n.sub(m)};j.Anchor=i;f.exports=j}),null);
__d("SingleSelectorBase",["csx","cx","invariant","ArbiterMixin","Alignment","BehaviorsMixin","Button","CSS","DOM","DOMQuery","Event","Layer","LayerBounds","Locale","Rect","ParameterizedPopover","PopoverMenu","Scroll","SelectableMenuUtils","Style","getOverlayZIndex","mixin","throttle"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l,m=c("Alignment").Anchor,n=c("Locale").isRTL()?m.RIGHT:m.LEFT,o={},p=16;k=babelHelpers.inherits(q,c("mixin")(c("ArbiterMixin"),c("BehaviorsMixin")));l=k&&k.prototype;function q(s,t,u,v){"use strict";__p&&__p();l.constructor.call(this);this.$SingleSelectorBase1=s;this.$SingleSelectorBase2=null;this.$SingleSelectorBase3=o;this.$SingleSelectorBase4=c("DOM").create("div",{});this.$SingleSelectorBase5=new(c("Layer"))({classNames:["_5xew"]},this.$SingleSelectorBase4);this.$SingleSelectorBase6=new(c("ParameterizedPopover"))(s.parentNode,s,[],babelHelpers["extends"]({},u,{layer:this.$SingleSelectorBase5}));this.$SingleSelectorBase6.subscribe("show",this.$SingleSelectorBase7.bind(this));this.$SingleSelectorBase6.subscribe("hide",this.$SingleSelectorBase8.bind(this));this.$SingleSelectorBase9=new(c("PopoverMenu"))(this.$SingleSelectorBase6,s,t,[]);this.setMenu(t);if(v&&v.behaviors)this.enableBehaviors(v.behaviors)}q.prototype.$SingleSelectorBase7=function(){"use strict";__p&&__p();this.$SingleSelectorBase10();this.$SingleSelectorBase11();c("CSS").conditionClass(this.$SingleSelectorBase5.getRoot(),"_5xex",this.$SingleSelectorBase12());c("Style").set(this.$SingleSelectorBase5.getRoot(),"min-width",this.$SingleSelectorBase1.offsetWidth+p+"px");var s=c("DOM").scry(this.$SingleSelectorBase4,"div.uiScrollableAreaWrap")[0];if(s){var t=c("Alignment").measure(new m(this.$SingleSelectorBase13(),n,m.MIDDLE),new m(this.$SingleSelectorBase2.getRoot(),n,m.MIDDLE));c("Scroll").setTop(s,c("Scroll").getTop(s)-t.y)}this.align();this.getMenu().focusAnItem();if(!this.$SingleSelectorBase14)this.$SingleSelectorBase14=c("Event").listen(window,"resize",c("throttle")(this.align.bind(this)));this.inform("show")};q.prototype.$SingleSelectorBase8=function(){"use strict";if(this.$SingleSelectorBase14){this.$SingleSelectorBase14.remove();this.$SingleSelectorBase14=null}this.inform("hide")};q.prototype.$SingleSelectorBase15=function(s,t){"use strict";this.$SingleSelectorBase16=null;if(!this.$SingleSelectorBase17)this.inform("change",t)};q.prototype.isShown=function(){"use strict";return this.$SingleSelectorBase6.isShown()};q.prototype.setValue=function(s){"use strict";if(this.isShown())this.$SingleSelectorBase18(s,false);else{this.$SingleSelectorBase3=s;this.$SingleSelectorBase19=false}};q.prototype.setValueWithoutChange=function(s){"use strict";if(this.isShown())this.$SingleSelectorBase18(s,true);else{this.$SingleSelectorBase3=s;this.$SingleSelectorBase19=true}};q.prototype.$SingleSelectorBase11=function(){"use strict";if(this.$SingleSelectorBase3!==o){this.$SingleSelectorBase18(this.$SingleSelectorBase3,this.$SingleSelectorBase19);this.$SingleSelectorBase3=o}};q.prototype.$SingleSelectorBase18=function(s,t){"use strict";this.$SingleSelectorBase17=t;this.$SingleSelectorBase2.setValue(s);this.$SingleSelectorBase17=null};q.prototype.getValue=function(){"use strict";return this.getSelectedItem().getValue()};q.prototype.getLayer=function(){"use strict";return this.$SingleSelectorBase5};q.prototype.getButton=function(){"use strict";return this.$SingleSelectorBase1};q.prototype.setMenu=function(s){"use strict";if(this.isShown())this.$SingleSelectorBase20(s);else this.$SingleSelectorBase21=s};q.prototype.$SingleSelectorBase10=function(){"use strict";if(this.$SingleSelectorBase21){this.$SingleSelectorBase20(this.$SingleSelectorBase21);this.$SingleSelectorBase21=null}};q.prototype.$SingleSelectorBase20=function(s){"use strict";__p&&__p();if(s!==this.$SingleSelectorBase2){this.$SingleSelectorBase2=s;if(this.$SingleSelectorBase22)this.$SingleSelectorBase22.unsubscribe();this.$SingleSelectorBase22=this.$SingleSelectorBase2.subscribe("change",this.$SingleSelectorBase15.bind(this));c("DOM").setContent(this.$SingleSelectorBase4,s.getRoot());this.$SingleSelectorBase9.setMenu(s);this.$SingleSelectorBase16=null}};q.prototype.getMenu=function(){"use strict";return this.$SingleSelectorBase21||this.$SingleSelectorBase2};q.prototype.enable=function(){"use strict";c("Button").setEnabled(this.$SingleSelectorBase1,true);this.$SingleSelectorBase6.enable()};q.prototype.disable=function(){"use strict";c("Button").setEnabled(this.$SingleSelectorBase1,false);this.$SingleSelectorBase6.disable()};q.prototype.$SingleSelectorBase12=function(){"use strict";return c("Style").isFixed(this.$SingleSelectorBase1)&&!c("Style").isFixed(this.$SingleSelectorBase5.getRoot().parentNode)};q.prototype.align=function(){"use strict";__p&&__p();if(!this.$SingleSelectorBase16)this.$SingleSelectorBase16=this.getAlignment();this.$SingleSelectorBase16.align();var s=c("Rect").getElementBounds(this.$SingleSelectorBase2.getRoot()),t=c("LayerBounds").getViewportRectForContext(this.$SingleSelectorBase1),u=s.t-t.t,v=t.b-s.b,w=s.l-t.l,x=t.r-s.r,y=this.$SingleSelectorBase5.getRoot();if(u<10)r(y,"top",-u+10);else if(v<10)r(y,"top",v-10);if(w<10)r(y,"left",-w+10);else if(x<10)r(y,"left",x-10);var z=c("getOverlayZIndex")(this.$SingleSelectorBase1,this.$SingleSelectorBase5.getInsertParent());c("Style").set(this.$SingleSelectorBase5.getRoot(),"z-index",z>200?z:"")};q.prototype.getAlignment=function(){"use strict";return new(c("Alignment"))(new m(this.$SingleSelectorBase5.getRoot(),m.TOP,m.LEFT),new m(this.$SingleSelectorBase13(),n,m.MIDDLE),new m(this.$SingleSelectorBase23(),n,m.MIDDLE))};q.prototype.$SingleSelectorBase23=function(){"use strict";return c("DOMQuery").find(this.$SingleSelectorBase1,"._55pe")};q.prototype.getSelectedItem=function(){"use strict";__p&&__p();var s=null;if(this.$SingleSelectorBase3!==o)this.getMenu().forEachItem(function(t){if(t.getValue()===this.$SingleSelectorBase3){s===null||j(0);s=t}}.bind(this));else this.getMenu().forEachItem(function(t){if(c("SelectableMenuUtils").isSelected(t)){s===null||j(0);s=t}});s!==null||j(0);return s};q.prototype.$SingleSelectorBase13=function(){"use strict";return c("DOMQuery").find(this.getSelectedItem().getRoot(),"._54nh")};q.prototype.destroy=function(){"use strict";this.$SingleSelectorBase2&&this.$SingleSelectorBase2.destroy();this.$SingleSelectorBase9.destroy();this.$SingleSelectorBase6.destroy();this.$SingleSelectorBase5.destroy()};function r(s,t,u){c("Style").set(s,t,c("Style").getFloat(s,t)+u+"px")}f.exports=q}),null);
__d("XUISingleSelectorButton.react",["ix","Image.react","React","XUIPopoverButton.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){"use strict";return c("React").createElement(c("XUIPopoverButton.react"),babelHelpers["extends"]({},this.props,{chevron:c("React").createElement(c("Image.react"),{src:h("101343")})}))};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("XUISingleSelector.react",["InlineBlock.react","React","ReactDOM","ReactSelectorUtils","ReactXUIMenu","SingleSelectorBase","SubscriptionsHandler","XUISingleSelectorButton.react","areEqual","cloneWithProps_DEPRECATED"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("React").PropTypes,k=c("ReactXUIMenu").SelectableMenu,l=c("ReactXUIMenu").SelectableItem;h=babelHelpers.inherits(m,c("React").Component);i=h&&h.prototype;function m(){__p&&__p();var n,o;"use strict";for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=i.constructor).call.apply(n,[this].concat(q)),this.$XUISingleSelector1=null,this.$XUISingleSelector2=null,this.$XUISingleSelector3=null,this.flattenMenuItems=function(){return c("React").Children.toArray(this.props.children).filter(function(s){return s})}.bind(this),this.processMenuItems=function(){return c("ReactSelectorUtils").processMenuItems(this.flattenMenuItems(),this.getValue())}.bind(this),this.setMenuValue=function(s){this.$XUISingleSelector2.setValueWithoutChange(s)}.bind(this),this.getValue=function(){return this.props.value!==undefined?this.props.value:this.state.value}.bind(this),this.onChange=function(s,t){if(this.props.value===undefined)this.setState({value:t.value});else this.setMenuValue(this.props.value);if(this.props.onChange)this.props.onChange(t)}.bind(this),this.$XUISingleSelector4=function(){var s=c("React").createElement(k,{className:this.props.menuClassName,maxheight:this.props.maxheight},this.processMenuItems().items);return new s.type(s.props)}.bind(this),this.state={value:this.props.value!==undefined?this.props.value:this.props.defaultValue!==undefined?this.props.defaultValue:this.flattenMenuItems()[0].props.value},o}m.prototype.componentWillReceiveProps=function(){"use strict";if(this.props.value!==undefined)this.setState({value:this.props.value})};m.prototype.componentDidMount=function(){"use strict";var n=c("ReactDOM").findDOMNode(this.refs.button);this.$XUISingleSelector2=new(c("SingleSelectorBase"))(n,this.$XUISingleSelector4(),{disabled:this.props.disabled},{behaviors:this.props.behaviors});this.$XUISingleSelector3=new(c("SubscriptionsHandler"))();this.$XUISingleSelector3.addSubscriptions(this.$XUISingleSelector2.subscribe("change",this.onChange));if(this.props.onShow)this.$XUISingleSelector3.addSubscriptions(this.$XUISingleSelector2.subscribe("show",this.props.onShow));if(this.props.onHide)this.$XUISingleSelector3.addSubscriptions(this.$XUISingleSelector2.subscribe("hide",this.props.onHide))};m.prototype.componentDidUpdate=function(n){"use strict";if(!c("areEqual")(n.children,this.props.children)||n.maxheight!==this.props.maxheight)this.$XUISingleSelector2.setMenu(this.$XUISingleSelector4());if(n.disabled!==this.props.disabled)if(!this.props.disabled)this.$XUISingleSelector2.enable();else this.$XUISingleSelector2.disable();this.setMenuValue(this.getValue())};m.prototype.componentWillUnmount=function(){"use strict";this.$XUISingleSelector2.destroy();if(this.$XUISingleSelector3){this.$XUISingleSelector3.release();this.$XUISingleSelector3=null}};m.prototype.render=function(){"use strict";var n=this.processMenuItems().selectedItem,o;if(n.props.icon)o=c("cloneWithProps_DEPRECATED")(n.props.icon,{});var p={ref:"button",label:n.props.label||n.props.children,image:o},q=void 0;if(this.props.customButton)q=c("React").cloneElement(this.props.customButton,p);else q=c("React").createElement(c("XUISingleSelectorButton.react"),babelHelpers["extends"]({},p,{disabled:this.props.disabled,size:this.props.size,suppressed:this.props.suppressed,maxwidth:this.props.maxwidth}));return c("React").createElement(c("InlineBlock.react"),babelHelpers["extends"]({},this.props,{alignv:"middle"}),c("React").createElement("input",{type:"hidden",autoComplete:"off",name:this.props.name,value:n.props.value}),q)};m.propTypes={name:j.string,maxheight:j.number,maxwidth:j.number,menuClassName:j.string,defaultValue:j.any,disabled:j.bool,size:j.oneOf(["small","medium","large","xlarge","xxlarge"]),suppressed:j.bool,value:j.any,onChange:j.func,onShow:j.func,onHide:j.func,behaviors:j.array,customButton:j.element};m.defaultProps={disabled:false,size:"medium"};m.Option=l;f.exports=m}),null);
__d("DevappSwitchButton.react",["cx","fbt","React","guid"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes,m="yesno",n="customized",o="onoff",p="io",q="yes",r="no";j=babelHelpers.inherits(s,c("React").Component);k=j&&j.prototype;s.prototype.$DevappSwitchButton1=function(t){switch(this.props.labels){case o:return t==q?i._("ON"):i._("OFF");case p:return t==q?"I":"O";case n:if(this.props.yesLabel&&this.props.noLabel)return t==q?this.props.yesLabel:this.props.noLabel;default:return t==q?i._("YES"):i._("NO")}};s.prototype.render=function(){var t=c("guid")(),u=c("React").createElement("input",babelHelpers["extends"]({},this.props,{type:"checkbox",id:t,defaultValue:"1"}));return c("React").createElement("div",{className:"_59fh"+(this.props.size=="small"?" _5a89":"")+(this.props.size=="x-small"?" _2lrd":"")+(this.props.use=="blue"?" _2lrc":"")},u,c("React").createElement("label",{htmlFor:t},c("React").createElement("div",{className:"_59fi"},this.$DevappSwitchButton1(q)),c("React").createElement("div",{className:"_59fj"}),c("React").createElement("div",{className:"_59fk"},this.$DevappSwitchButton1(r))))};function s(){j.apply(this,arguments)}s.propTypes={labels:l.oneOf([m,o,p,n]),size:l.oneOf(["normal","small","x-small"]),use:l.oneOf(["default","blue"]),checked:l.bool,disabled:l.bool,onChange:l.func,onClick:l.func,yesLabel:l.string,noLabel:l.string};f.exports=s}),null);
__d("MPNLPNBestBoundary",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({MIN:1,MAX:8})}),null);
__d("MPNLPPreset",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ENGLISH:"en",CUSTOM:"custom",CHINESE:"zh",DUTCH:"nl",FRENCH_STANDARD:"fr",GERMAN_STANDARD:"de",ITALIAN_STANDARD:"it",POLISH:"pl",PORTUGUESE:"pt",ROMANIAN:"ro",SPANISH:"es",VIETNAMESE:"vi"})}),null);
__d("XDataPolicyController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/about/privacy/",{})}),null);
__d("range",[],(function a(b,c,d,e,f,g){function h(i,j,k){k=!k?i<j?1:-1:k;var l=-1,m=Math.max(Math.ceil((j-i)/k),0),n=Array(m);while(m--){n[++l]=i;i+=k}return n}f.exports=h}),null);
__d("DevsiteMessengerNLPCard.react",["cx","fbt","DevappSwitchButton.react","DevsiteCard.react","DevsiteCardHeader.react","DevsiteCardSection.react","LayerFadeOnHide","Layout.react","Link.react","MPNLPNBestBoundary","MPNLPPreset","React","XDataPolicyController","XDeveloperDocumentationController","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIError.react","XUIGrayText.react","XUINotice.react","XUISingleSelector.react","XUISpinner.react","range"],(function a(b,c,d,e,f,aa,ba,g){"use strict";__p&&__p();var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=c("Layout.react").Column,w=c("Layout.react").FillColumn,x=c("XUISingleSelector.react").Option,y=function y(V){__p&&__p();var W=function W(X){return"Default "+X};switch(V){case"custom":return"Custom";case"en":return W("English");case"zh":return W("Chinese");case"nl":return W("Dutch");case"fr":return W("French");case"de":return W("German");case"it":return W("Italian");case"pl":return W("Polish");case"pt":return W("Portugese");case"ro":return W("Romanian");case"es":return W("Spanish");case"vi":return W("Vietnamese");default:V;throw new Error("unhandled preset")}},z=function z(V,W){return V.page_name.toLowerCase().localeCompare(W.page_name.toLowerCase())},A=function A(V,W){var X=V[0],Y=V[1],Z=W[0],$=W[1];if(X===c("MPNLPPreset").CUSTOM)return-1;else if(Z===c("MPNLPPreset").CUSTOM)return 1;else return Y.toLowerCase().localeCompare($.toLowerCase())};function B(V){var W=Object.keys(V.savedConfigs).map(function(X){return V.savedConfigs[X]}).filter(function(X){return X.preset===c("MPNLPPreset").CUSTOM}).sort(z).map(function(X){return c("React").createElement("span",{key:X.page_id},c("React").createElement(c("XUIGrayText.react"),{weight:"bold"},X.page_name)," ")});if(W.length===0)return null;return c("React").createElement(c("Layout.react"),null,c("React").createElement(v,null,c("React").createElement(c("XUIGrayText.react"),{className:"_2pih"},g._("Customized Pages:"))),c("React").createElement(w,null,W))}function C(){var V=c("XDataPolicyController").getURIBuilder().getURI().setDomain("www.facebook.com").setProtocol("https");return c("React").createElement(c("Layout.react"),null,c("React").createElement(c("Layout.react"),{className:"_2pim"},c("React").createElement(w,null,c("React").createElement(c("XUIGrayText.react"),{shade:"medium",size:"medium"},g._("Don't have a Wit app yet?"))," ",c("React").createElement(c("XUIGrayText.react"),{shade:"medium",size:"medium"},c("React").createElement(c("Link.react"),{href:"https://wit.ai",target:"_blank"},g._("Sign up."))))),c("React").createElement(c("Layout.react"),{className:"_2pio"},c("React").createElement(w,null,c("React").createElement(c("XUIGrayText.react"),null,g._("When you link a Page and a Wit.ai app, you agree that the")," ",c("React").createElement(c("Link.react"),{href:V,target:"_blank"},g._("Facebook Data Policy"))," ",g._("applies to content sent through Messenger Platform.")))))}h=babelHelpers.inherits(D,c("React").PureComponent);i=h&&h.prototype;function D(){var V,W;for(var X=arguments.length,Y=Array(X),Z=0;Z<X;Z++)Y[Z]=arguments[Z];return W=(V=i.constructor).call.apply(V,[this].concat(Y)),this.$DevsiteMessengerNLPCustomTokenEditor1=function($){this.props.onCustomTokenChange(this.props.config,$.target.value)}.bind(this),W}D.prototype.render=function(){var V=this.props.config.custom_token,W=this.props.savedConfig.custom_token,X=this.props.errors.custom_tokens[this.props.config.page_id];return c("React").createElement("div",{className:"_4e69"},c("React").createElement(c("XUIGrayText.react"),{className:"_2pii",shade:"medium",size:"medium"},g._("Wit Token:")," "),c("React").createElement(c("XUIError.react"),{xuiError:X},c("React").createElement("div",{className:"_4e6a"+(W&&V===W?" _4e6b":"")},c("React").createElement("input",{className:"_4e6c",onChange:this.$DevsiteMessengerNLPCustomTokenEditor1,placeholder:g._("Enter your Wit Server Access Token"),value:this.props.config.custom_token}))))};j=babelHelpers.inherits(E,c("React").PureComponent);k=j&&j.prototype;function E(){var V,W;for(var X=arguments.length,Y=Array(X),Z=0;Z<X;Z++)Y[Z]=arguments[Z];return W=(V=k.constructor).call.apply(V,[this].concat(Y)),this.$DevsiteMessengerNLPPresetButtons1=function(){this.props.onCustomTokenChange(this.props.config,this.props.savedConfig.custom_token)}.bind(this),this.$DevsiteMessengerNLPPresetButtons2=function(){this.props.onConfigSave(this.props.config)}.bind(this),W}E.prototype.render=function(){var V=this.props.config.custom_token,W=this.props.savedConfig.custom_token,X=this.props.config.preset,Y=this.props.savedConfig.preset,Z=X===Y&&V===W,$=X==="custom"&&!V;return c("React").createElement("div",null,c("React").createElement(c("XUIButton.react"),{disabled:Z||$||this.props.isSaving,label:g._("Save"),onClick:this.$DevsiteMessengerNLPPresetButtons2,use:"confirm"}),X==="custom"?c("React").createElement(c("XUIButton.react"),{disabled:Z||this.props.isSaving,label:g._("Reset"),onClick:this.$DevsiteMessengerNLPPresetButtons1}):null)};l=babelHelpers.inherits(F,c("React").PureComponent);m=l&&l.prototype;function F(){var V,W;for(var X=arguments.length,Y=Array(X),Z=0;Z<X;Z++)Y[Z]=arguments[Z];return W=(V=m.constructor).call.apply(V,[this].concat(Y)),this.$DevsiteMessengerNLPCardPresetSelector1=function($){this.props.onPresetSelect(this.props.config,$.value)}.bind(this),W}F.prototype.render=function(){var V=Object.keys(c("MPNLPPreset")).map(function(W){return c("MPNLPPreset")[W]}).map(function(W){return[W,y(W)]}).sort(A).map(function(W){var X=W[0],Y=W[1];return c("React").createElement(x,{key:X,value:X},Y)});return c("React").createElement(c("XUISingleSelector.react"),{disabled:this.props.isSaving,onChange:this.$DevsiteMessengerNLPCardPresetSelector1,value:this.props.config.preset},V)};function G(V){var W=c("range")(c("MPNLPNBestBoundary").MIN,c("MPNLPNBestBoundary").MAX+1).map(function(X){return c("React").createElement(x,{key:X,value:X},X)});return c("React").createElement(c("XUISingleSelector.react"),{disabled:V.isSaving,onChange:V.onChange,value:V.config.n_best},W)}function H(V){return c("React").createElement(c("Layout.react"),{className:"_2pio"},c("React").createElement(v,{className:"_2bei"},V.formElement),c("React").createElement(w,null,V.description))}function I(V){var W=V.config.verbose,X=V.savedConfig.verbose,Y=V.config.n_best,Z=V.savedConfig.n_best,$=Y===Z&&W===X;return c("React").createElement("div",null,c("React").createElement(c("XUIButton.react"),{disabled:$||V.isSaving,label:g._("Reset"),onClick:V.onReset}),c("React").createElement(c("XUIButton.react"),{disabled:$||V.isSaving,label:g._("Save"),onClick:V.onSave,use:"confirm"}))}n=babelHelpers.inherits(J,c("React").PureComponent);o=n&&n.prototype;function J(){var V,W;for(var X=arguments.length,Y=Array(X),Z=0;Z<X;Z++)Y[Z]=arguments[Z];return W=(V=o.constructor).call.apply(V,[this].concat(Y)),this.$DevsiteMessengerNLPCardAdvancedSettingsDialog1=function($){this.props.onVerboseChange(this.props.config,$.target.checked)}.bind(this),this.$DevsiteMessengerNLPCardAdvancedSettingsDialog2=function($){this.props.onNBestChange(this.props.config,$.value)}.bind(this),this.$DevsiteMessengerNLPCardAdvancedSettingsDialog3=function(){this.props.onSaveAdvancedSettings(this.props.config)}.bind(this),this.$DevsiteMessengerNLPCardAdvancedSettingsDialog4=function(){this.props.onVerboseChange(this.props.config,this.props.savedConfig.verbose);this.props.onNBestChange(this.props.config,this.props.savedConfig.n_best)}.bind(this),W}J.prototype.render=function(){var V=this.props.errors.advanced_settings[this.props.config.page_id],W="https://wit.ai/docs/http/20170307#get--message-link";return c("React").createElement(c("XUIDialog.react"),{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},causalElementRef:this.props.causalElementRef,isStrictlyControlled:true,onHide:this.props.onHideAdvancedSettings,shown:this.props.showAdvancedSettings,width:600},c("React").createElement(c("XUIDialogTitle.react"),null,g._("Advanced Settings")),c("React").createElement(c("XUIDialogBody.react"),null,V?c("React").createElement(c("XUINotice.react"),{size:"medium",use:"warn"},V):null,c("React").createElement(H,{description:c("React").createElement("span",null,g._("Enable a")," ",c("React").createElement(c("Link.react"),{href:W,target:"_blank"},g._("verbose"))," ",g._("flag to get additional information about entities, like where in the sentence they are located.")),formElement:c("React").createElement(c("DevappSwitchButton.react"),{checked:this.props.config.verbose,disabled:this.props.isSaving,labels:"onoff",onChange:this.$DevsiteMessengerNLPCardAdvancedSettingsDialog1,size:"small"})}),c("React").createElement(H,{description:c("React").createElement("span",null,g._("Select the number of")," ",c("React").createElement(c("Link.react"),{href:W,target:"_blank"},g._("n-best"))," ",g._("trait entities you want to get back. The default is 1, and the maximum is 8.")," "),formElement:c("React").createElement(G,babelHelpers["extends"]({},this.props,{onChange:this.$DevsiteMessengerNLPCardAdvancedSettingsDialog2}))})),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(I,babelHelpers["extends"]({},this.props,{onReset:this.$DevsiteMessengerNLPCardAdvancedSettingsDialog4,onSave:this.$DevsiteMessengerNLPCardAdvancedSettingsDialog3}))))};p=babelHelpers.inherits(K,c("React").PureComponent);q=p&&p.prototype;function K(){var V,W;for(var X=arguments.length,Y=Array(X),Z=0;Z<X;Z++)Y[Z]=arguments[Z];return W=(V=q.constructor).call.apply(V,[this].concat(Y)),this.$DevsiteMessengerNLPCardSettingSection2=function(){return this.$DevsiteMessengerNLPCardSettingSection1}.bind(this),W}K.prototype.render=function(){return c("React").createElement(c("Layout.react"),{className:"_2pie"},c("React").createElement(w,null,c("React").createElement(L,this.props)),c("React").createElement(v,null,c("React").createElement(c("XUIButton.react"),{label:g._("Advanced Settings"),onClick:this.props.onShowAdvancedSettings,ref:function(V){this.$DevsiteMessengerNLPCardSettingSection1=V}.bind(this)})),c("React").createElement(J,babelHelpers["extends"]({causalElementRef:this.$DevsiteMessengerNLPCardSettingSection2},this.props)))};function L(V){return c("React").createElement(c("Layout.react"),null,c("React").createElement(c("Layout.react"),null,c("React").createElement("div",{className:"_1pwx"},c("React").createElement(c("XUIGrayText.react"),{className:"_2pii",shade:"medium",size:"medium"},g._("Select a Model")),c("React").createElement(F,V),V.config.preset===c("MPNLPPreset").CUSTOM?c("React").createElement("div",{className:"_2pis"},c("React").createElement(D,V)):null,c("React").createElement("div",{className:"_2pis"},c("React").createElement(E,V)))),V.config.preset===c("MPNLPPreset").CUSTOM?c("React").createElement("div",{className:"_2pie"},c("React").createElement(C,null)):null)}r=babelHelpers.inherits(M,c("React").PureComponent);s=r&&r.prototype;function M(){var V,W;for(var X=arguments.length,Y=Array(X),Z=0;Z<X;Z++)Y[Z]=arguments[Z];return W=(V=s.constructor).call.apply(V,[this].concat(Y)),this.$DevsiteMessengerNLPCardToggleSection1=function($){this.props.onEnableToggle(this.props.config,$.target.checked)}.bind(this),W}M.prototype.render=function(){return c("React").createElement(c("Layout.react"),null,c("React").createElement(w,null,c("React").createElement(c("XUIGrayText.react"),{shade:"medium",size:"medium"},g._("Built-in NLP relies on a model to detect certain entities. You can select a default model based on the language of the messages your Page will receive. If you want to customize the entities built-in NLP returns, you can select a custom model and link your Page to a Wit.ai app token."))),c("React").createElement(v,{className:"mlm"},c("React").createElement(c("XUIError.react"),{xuiError:this.props.errors.nlp_enabled[this.props.config.page_id]},c("React").createElement(c("DevappSwitchButton.react"),{checked:this.props.config.nlp_enabled,disabled:this.props.isSaving,labels:"onoff",onChange:this.$DevsiteMessengerNLPCardToggleSection1}))))};function N(V){return c("React").createElement(c("Layout.react"),{className:"_2pie"},c("React").createElement(w,null,c("React").createElement(M,V),V.config.nlp_enabled?c("React").createElement(K,V):null))}t=babelHelpers.inherits(O,c("React").PureComponent);u=t&&t.prototype;function O(){var V,W;for(var X=arguments.length,Y=Array(X),Z=0;Z<X;Z++)Y[Z]=arguments[Z];return W=(V=u.constructor).call.apply(V,[this].concat(Y)),this.$DevsiteMessengerNLPCardConfigSelector1=function($){this.props.onPageSelect($.value)}.bind(this),W}O.prototype.render=function(){var V=c("React").createElement(x,{key:"default",value:null},g._("Select a Page")),W=Object.keys(this.props.configs).map(function(X){return this.props.configs[X]}.bind(this)).sort(z).map(function(X){return c("React").createElement(x,{key:X.page_id,value:X.page_id},X.page_name)});return c("React").createElement(c("XUISingleSelector.react"),{disabled:this.props.isSaving,onChange:this.$DevsiteMessengerNLPCardConfigSelector1,value:this.props.activePageId},[V].concat(W))};function P(V){var W=V.activePageId||"",X=V.configs[W],Y=V.savedConfigs[W];return c("React").createElement(c("Layout.react"),null,c("React").createElement(c("Layout.react"),null,c("React").createElement("div",{className:"_1pwz"},c("React").createElement(c("XUIGrayText.react"),{className:"_2pii",shade:"medium",size:"medium"},g._("Select a Page to customize Built-In NLP")),c("React").createElement(O,V))),X&&Y?c("React").createElement(N,babelHelpers["extends"]({},V,{config:X,savedConfig:Y})):null)}function Q(){return c("React").createElement(c("Layout.react"),{className:"_2pio"},c("React").createElement(w,null,c("React").createElement(c("XUIGrayText.react"),{shade:"medium",size:"medium"},g._("Subscribe a Page first under the \"Webhooks\" section to use Built-In NLP"))))}function R(){return c("React").createElement("div",{className:"_1pw-"},c("React").createElement(c("XUISpinner.react"),null))}function S(V){if(V.isLoading)return c("React").createElement(R,null);if(Object.keys(V.configs).length===0)return c("React").createElement(Q,null);return c("React").createElement(P,V)}function T(){var V=c("XDeveloperDocumentationController").getURIBuilder().setString("path1","messenger-platform").setString("path2","built-in-nlp").getURI();return c("React").createElement(c("Layout.react"),{className:"_2pio"},c("React").createElement(w,null,c("React").createElement(c("XUIGrayText.react"),{shade:"medium",size:"medium"},g._("Automatically integrate natural language processing by parsing the messages you receive. Built-in NLP can help detect meaning and extract information about dates, time and much more.")," ",c("React").createElement(c("Link.react"),{href:V.toString(),target:"_blank"},g._("Learn more.")))))}function U(V){return c("React").createElement(c("DevsiteCard.react"),null,c("React").createElement(c("DevsiteCardHeader.react"),null,g._("Built-In NLP")),c("React").createElement(c("DevsiteCardSection.react"),null,c("React").createElement(T,null),c("React").createElement(B,V)),c("React").createElement(c("DevsiteCardSection.react"),null,c("React").createElement(S,V)))}f.exports=U}),null);
__d("DevsiteMessengerNLPCardHelpers",["EventEmitter"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("EventEmitter"));i=h&&h.prototype;function j(){h.apply(this,arguments)}f.exports={nlpCardEventEmitter:new j()}}),null);
__d("MessengerPlatformNLPTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:MessengerPlatformNLPLoggerConfig",this.$MessengerPlatformNLPTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:MessengerPlatformNLPLoggerConfig",this.$MessengerPlatformNLPTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$MessengerPlatformNLPTypedLogger1={};return this};h.prototype.updateData=function(j){this.$MessengerPlatformNLPTypedLogger1=babelHelpers["extends"]({},this.$MessengerPlatformNLPTypedLogger1,j);return this};h.prototype.setAppID=function(j){this.$MessengerPlatformNLPTypedLogger1.app_id=j;return this};h.prototype.setCallsite=function(j){this.$MessengerPlatformNLPTypedLogger1.callsite=j;return this};h.prototype.setCustomToken=function(j){this.$MessengerPlatformNLPTypedLogger1.custom_token=j;return this};h.prototype.setEvent=function(j){this.$MessengerPlatformNLPTypedLogger1.event=j;return this};h.prototype.setException=function(j){this.$MessengerPlatformNLPTypedLogger1.exception=j;return this};h.prototype.setLatency=function(j){this.$MessengerPlatformNLPTypedLogger1.latency=j;return this};h.prototype.setNlpEnabled=function(j){this.$MessengerPlatformNLPTypedLogger1.nlp_enabled=j;return this};h.prototype.setPageID=function(j){this.$MessengerPlatformNLPTypedLogger1.page_id=j;return this};h.prototype.setUserFbid=function(j){this.$MessengerPlatformNLPTypedLogger1.user_fbid=j;return this};h.prototype.setVC=function(j){this.$MessengerPlatformNLPTypedLogger1.vc=j;return this};var i={app_id:true,callsite:true,custom_token:true,event:true,exception:true,latency:true,nlp_enabled:true,page_id:true,user_fbid:true,vc:true};f.exports=h}),null);
__d("XDeveloperAppMessengerNLPConfigAdvancedSettingsUpdateController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/apps/{app_id}/async/messenger/nlp/p/{page_id}/advanced_settings/",{app_id:{type:"Int",required:true},page_id:{type:"Int",required:true}})}),null);
__d("XDeveloperAppMessengerNLPConfigToggleEnableController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/apps/{app_id}/async/messenger/nlp/p/{page_id}/toggle/",{app_id:{type:"Int",required:true},page_id:{type:"Int",required:true},nlp_enabled:{type:"Bool",defaultValue:false}})}),null);
__d("XDeveloperAppMessengerNLPConfigUpdateController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/apps/{app_id}/async/messenger/nlp/p/{page_id}/",{app_id:{type:"Int",required:true},page_id:{type:"Int",required:true}})}),null);
__d("XDeveloperAppMessengerNLPConfigsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/apps/{app_id}/async/messenger/nlp/",{app_id:{type:"Int",required:true}})}),null);
__d("DevsiteMessengerNLPCardContainer.react",["fbt","AsyncRequest","DevsiteMessengerNLPCard.react","DevsiteMessengerNLPCardHelpers","MessengerPlatformNLPTypedLogger","MPNLPPreset","React","XDeveloperAppMessengerNLPConfigAdvancedSettingsUpdateController","XDeveloperAppMessengerNLPConfigsController","XDeveloperAppMessengerNLPConfigToggleEnableController","XDeveloperAppMessengerNLPConfigUpdateController","nullthrows"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("DevsiteMessengerNLPCardHelpers").nlpCardEventEmitter,l=function l(o){return o.errorSummary||h._("Something went wrong. please try again")},m=function m(o,p,q){var r,s=c("nullthrows")(o[p]);return babelHelpers["extends"]({},o,(r={},r[p]=babelHelpers["extends"]({},s,q),r))};i=babelHelpers.inherits(n,c("React").PureComponent);j=i&&i.prototype;function n(){__p&&__p();j.constructor.call(this);this.$DevsiteMessengerNLPCardContainer2=function(o){this.setState({activePageId:o})}.bind(this);this.$DevsiteMessengerNLPCardContainer1=function(){__p&&__p();if(this.state.isSaving)return;var o=c("XDeveloperAppMessengerNLPConfigsController").getURIBuilder().setInt("app_id",this.props.appId).getURI();this.setState({isLoading:true});new(c("AsyncRequest"))(o).setMethod("POST").setHandler(function(p){var q=p.payload;this.setState(function(r){var s=r.errors,t=r.activePageId;return{isLoading:false,errors:babelHelpers["extends"]({},s,{fetch_configs:null}),configs:q.savedConfigs,savedConfigs:q.savedConfigs,activePageId:t&&q.savedConfigs[t]?t:null}})}.bind(this)).setErrorHandler(function(p){return this.setState(function(q){var r=q.errors;return{isLoading:false,errors:babelHelpers["extends"]({},r,{fetch_configs:l(p)})}})}.bind(this)).send()}.bind(this);this.$DevsiteMessengerNLPCardContainer3=function(o,p){this.setState(function(q){var r=q.configs;return{configs:m(r,o.page_id,{verbose:p})}})}.bind(this);this.$DevsiteMessengerNLPCardContainer4=function(o,p){this.setState(function(q){var r=q.configs;return{configs:m(r,o.page_id,{n_best:p})}})}.bind(this);this.$DevsiteMessengerNLPCardContainer5=function(o){var p=c("XDeveloperAppMessengerNLPConfigAdvancedSettingsUpdateController").getURIBuilder().setInt("app_id",this.props.appId).setInt("page_id",o.page_id).getURI(),q={verbose:o.verbose,n_best:o.n_best};this.setState({isSaving:true});new(c("AsyncRequest"))(p).setMethod("POST").setData(q).setHandler(function(){return this.setState(function(r){var s,t=r.savedConfigs,u=r.errors;return{isSaving:false,savedConfigs:m(t,o.page_id,q),errors:babelHelpers["extends"]({},u,{advanced_settings:babelHelpers["extends"]({},u.advanced_settings,(s={},s[o.page_id]=null,s))})}})}.bind(this)).setErrorHandler(function(r){return this.setState(function(s){var t,u=s.configs,v=s.errors;return{isSaving:false,errors:babelHelpers["extends"]({},v,{advanced_settings:babelHelpers["extends"]({},v.advanced_settings,(t={},t[o.page_id]=l(r),t))})}})}.bind(this)).send()}.bind(this);this.$DevsiteMessengerNLPCardContainer6=function(o,p){__p&&__p();var q=c("XDeveloperAppMessengerNLPConfigToggleEnableController").getURIBuilder().setInt("app_id",this.props.appId).setInt("page_id",o.page_id).getURI();this.setState(function(r){var s=r.configs;return{isSaving:true,configs:m(s,o.page_id,{nlp_enabled:p})}});new(c("AsyncRequest"))(q).setMethod("POST").setData({nlp_enabled:p}).setHandler(function(){return this.setState(function(r){var s,t=r.errors;return{isSaving:false,errors:babelHelpers["extends"]({},t,{nlp_enabled:babelHelpers["extends"]({},t.nlp_enabled,(s={},s[o.page_id]=null,s))})}})}.bind(this)).setErrorHandler(function(r){return this.setState(function(s){var t,u=s.configs,v=s.errors;return{isSaving:false,configs:m(u,o.page_id,{nlp_enabled:o.nlp_enabled}),errors:babelHelpers["extends"]({},v,{nlp_enabled:babelHelpers["extends"]({},v.nlp_enabled,(t={},t[o.page_id]=l(r),t))})}})}.bind(this)).send()}.bind(this);this.$DevsiteMessengerNLPCardContainer7=function(o,p){this.setState(function(q){var r=q.configs;return{configs:m(r,o.page_id,{custom_token:p})}})}.bind(this);this.$DevsiteMessengerNLPCardContainer8=function(o,p){this.setState(function(q){var r=q.configs;return{configs:m(r,o.page_id,{preset:p})}})}.bind(this);this.$DevsiteMessengerNLPCardContainer9=function(o){__p&&__p();var p=c("XDeveloperAppMessengerNLPConfigUpdateController").getURIBuilder().setInt("app_id",this.props.appId).setInt("page_id",o.page_id).getURI();this.setState({isSaving:true});var q={custom_token:o.preset===c("MPNLPPreset").CUSTOM?o.custom_token:"",preset:o.preset};new(c("AsyncRequest"))(p).setMethod("POST").setData(q).setHandler(function(){return this.setState(function(r){var s,t=r.configs,u=r.savedConfigs,v=r.errors;return{isSaving:false,configs:m(t,o.page_id,q),savedConfigs:m(u,o.page_id,q),errors:babelHelpers["extends"]({},v,{custom_tokens:babelHelpers["extends"]({},v.custom_tokens,(s={},s[o.page_id]=null,s))})}})}.bind(this)).setErrorHandler(function(r){return this.setState(function(s){var t,u=s.configs,v=s.errors;return{isSaving:false,errors:babelHelpers["extends"]({},v,{custom_tokens:babelHelpers["extends"]({},v.custom_tokens,(t={},t[o.page_id]=l(r),t))})}})}.bind(this)).send()}.bind(this);this.$DevsiteMessengerNLPCardContainer10=function(){this.setState({showAdvancedSettings:true})}.bind(this);this.$DevsiteMessengerNLPCardContainer11=function(){this.setState({showAdvancedSettings:false})}.bind(this);this.state={activePageId:null,errors:{advanced_settings:{},custom_tokens:{},fetch_configs:null,nlp_enabled:{}},configs:{},savedConfigs:{},isLoading:true,isSaving:false,showAdvancedSettings:false}}n.prototype.componentWillMount=function(){new(c("MessengerPlatformNLPTypedLogger"))().setAppID(this.props.appId).setEvent("nlp-card-load").log()};n.prototype.componentDidMount=function(){this.$DevsiteMessengerNLPCardContainer1();k.addListener("page_subscriptions_changed",this.$DevsiteMessengerNLPCardContainer1)};n.prototype.render=function(){return c("React").createElement(c("DevsiteMessengerNLPCard.react"),babelHelpers["extends"]({},this.state,{onConfigSave:this.$DevsiteMessengerNLPCardContainer9,onCustomTokenChange:this.$DevsiteMessengerNLPCardContainer7,onEnableToggle:this.$DevsiteMessengerNLPCardContainer6,onHideAdvancedSettings:this.$DevsiteMessengerNLPCardContainer11,onNBestChange:this.$DevsiteMessengerNLPCardContainer4,onPageSelect:this.$DevsiteMessengerNLPCardContainer2,onPresetSelect:this.$DevsiteMessengerNLPCardContainer8,onSaveAdvancedSettings:this.$DevsiteMessengerNLPCardContainer5,onShowAdvancedSettings:this.$DevsiteMessengerNLPCardContainer10,onVerboseChange:this.$DevsiteMessengerNLPCardContainer3}))};f.exports=n}),null);